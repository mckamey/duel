(function(u){function v(a){this.value=a}function j(a){switch(typeof a){case "object":return!a?0:a instanceof Array?2:a instanceof v?5:3;case "function":return 1;case "undefined":return 0;default:return 4}}function l(a){return typeof a==="function"}function q(a){if(j(a)!==2)a=["",a];this.value=a}function r(a,b){switch(j(b)){case 2:if(b[0]==="")for(var d=1,c=b.length;d<c;d++)r(a,b[d]);else a.push(b);break;case 3:d=a[1];if(j(d)===3)for(c in b){if(b.hasOwnProperty(c))d[c]=b[c]}else a.splice(1,0,b);break;
case 4:d=a.length-1;if(d>0&&j(a[d])===4)a[d]=""+a[d]+b;else a.push(""+b);break;case 0:break;default:a.push(b)}}function s(a,b,d,c,f){var e=j(a[1])===3;if(a.length===(e?3:2))return k(a[a.length-1],b,d,c,f);var g=[""];e=e?2:1;for(var i=a.length;e<i;e++)r(g,k(a[e],b,d,c,f));return g}function w(a,b,d,c,f){for(var e=1,g=a.length;e<g;e++){var i=a[e],h=i[1].test;if(j(i[1])===3&&h){if(l(h))h=h(b,d,c);if(!h)continue}return s(i,b,d,c,f)}return null}function F(a){if(j(a)!==2)a=["",a];var b=function(d){try{var c=
k(a,d,0,1);return new q(c)}catch(f){return new q("["+f+"]")}};b.getView=function(){return a};return b}function m(){this.value=m.FAST?"":[]}function G(a){if(typeof a!=="string")return a;return a.replace(/[&<>]/g,function(b){switch(b){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";default:return b}})}function H(a){if(typeof a!=="string")return a;return a.replace(/[&<>"]/g,function(b){switch(b){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";
default:return b}})}function x(a,b){var d=b[0],c=b.length,f=1,e;if(d){a.append("<",d);e=b[f];if(j(e)===3){for(var g in e)if(e.hasOwnProperty(g)){a.append(" ",g);var i=e[g];i&&a.append('="',H(i),'"')}f++}a.append(">")}for(;f<c;f++){e=b[f];j(e)===2?x(a,e):a.append(G(e))}d&&!I[d]&&a.append("</",d,">")}function o(a){if(!a){if(n.createDocumentFragment)return n.createDocumentFragment();a=""}if(a.toLowerCase()==="style"&&n.createStyleSheet)return n.createStyleSheet();return n.createElement(a)}function t(a,
b){if(b)if(a.tagName&&a.tagName.toLowerCase()==="table"&&a.tBodies)if(b.tagName){var d=b.tagName.toLowerCase();if(d&&d!=="tbody"&&d!=="thead"){var c=a.tBodies.length>0?a.tBodies[a.tBodies.length-1]:null;if(!c){c=o(d==="th"?"thead":"tbody");a.appendChild(c)}c.appendChild(b)}else a.canHaveChildren!==false&&a.appendChild(b)}else{if(b.nodeType===11)for(;b.firstChild;)t(a,b.removeChild(b.firstChild))}else if(a.tagName&&a.tagName.toLowerCase()==="style"&&n.createStyleSheet)a.cssText=b;else if(a.canHaveChildren!==
false)a.appendChild(b);else if(a.tagName&&a.tagName.toLowerCase()==="object"&&b.tagName&&b.tagName.toLowerCase()==="param"){try{a.appendChild(b)}catch(f){}try{if(a.object)a.object[b.name]=b.value}catch(e){}}}function y(a,b,d){if(typeof d==="string")d=new Function("event",d);if(l(d))a[b]=d}function z(a){return!!a&&a.nodeType===3&&(!a.nodeValue||!/\S/.exec(a.nodeValue))}function A(a){if(a){for(;z(a.firstChild);)a.removeChild(a.firstChild);for(;z(a.lastChild);)a.removeChild(a.lastChild)}}function B(a,
b){var d=a[b];if(d){try{delete a[b]}catch(c){a[b]=undefined}if(!l(d))try{d=new Function(""+d)}catch(f){d=null}}return d}function J(a){if(a){var b=B(a,"$init");b&&b.call(a);if(b=B(a,"$load"))setTimeout(function(){b.call(a);b=a=null},0);else b=a=null}}function C(a,b){for(var d=1;d<b.length;d++){var c=b[d];switch(j(c)){case 2:t(a,C(o(c[0]),c));break;case 4:t(a,n.createTextNode(""+c));break;case 3:if(a.nodeType===1){var f=a,e=c;if(e.name&&n.attachEvent)try{var g=o("<"+f.tagName+" name='"+e.name+"'>");
if(f.tagName===g.tagName)f=g}catch(i){}c=void 0;for(c in e)if(e.hasOwnProperty(c)){var h=e[c];if(c&&h){c=K[c.toLowerCase()]||c;if(c==="style")if(typeof f.style.cssText!=="undefined")f.style.cssText=h;else f.style=h;else if(c==="class")f.className=h;else if(L[c]){y(f,c,h);p[c]&&y(f,p[c],h)}else if(j(h)===4){f.setAttribute(c,h);p[c]&&f.setAttribute(p[c],h)}else{f[c]=h;if(p[c])f[p[c]]=h}}}a=f}break;case 5:f=t;e=a;h=c;c=o("div");c.innerHTML=""+h;A(c);if(c.childNodes.length===1)c=c.firstChild;else{for(h=
o("");c.firstChild;)h.appendChild(c.firstChild);c=h}f(e,c)}}A(a);J(a);if(a.nodeType===11&&a.childNodes.length===1)a=a.firstChild;return a}var n=u.document;v.prototype.toString=function(){return this.value};var k;k=function(a,b,d,c,f){var e;switch(j(a)){case 1:e=a(b,d,c);break;case 2:e=a[0]||"";switch(e){case "$for":var g=a[1]||{};e=[""];if(g.hasOwnProperty("count")){var i=g.count;if(l(i))i=i(b,d,c);if(g.hasOwnProperty("model")){g=g.model;if(l(g))g=g(b,d,c)}else g=b;for(b=0;b<i;b++)r(e,s(a,g,b,i,f))}else{if(g.hasOwnProperty("in")){var h=
g["in"];if(l(h))h=h(b,d,c);if(j(h)===3){g=[];for(i in h)h.hasOwnProperty(i)&&g.push({key:i,value:h[i]})}else g=h}else{g=g.each;if(l(g))g=g(b,d,c)}if(j(g)===2){b=0;for(d=g.length;b<d;b++)r(e,s(a,g[b],b,d,f))}else e=s(a,g,0,1,f)}e=e;break;case "$xor":e=w(a,b,d,c,f);break;case "$if":e=w(["$xor",a],b,d,c,f);break;case "$call":f=a[1];if(!f||!f.view)e=null;else{e=k(f.view,b,d,c);i=k(f.model,b,d,c);g=k(f.index,b,d,c);b=k(f.count,b,d,c);d={};c=2;for(h=a.length;c<h;c++){var D=a[c];if((f=D[1]||{})&&f.name)d[f.name]=
D}e=e&&l(e.getView)?k(e.getView(),i,g,b,d):null}break;case "$part":e=(a[1]||{}).name;e=!f||!f[e]?a:f[e];e=s(e,b,d,c);break;default:e=[e];i=1;for(g=a.length;i<g;i++)r(e,k(a[i],b,d,c,f))}break;case 3:e={};for(g in a)if(a.hasOwnProperty(g))e[g]=k(a[g],b,d,c);break;default:e=a}return e};var E=u.duel=function(a){return l(a)&&l(a.getView)?a:F(a)};E.raw=E.raw=function(a){return new v(a)};var I={area:true,base:true,basefont:true,br:true,col:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,
link:true,meta:true,param:true,source:true,wbr:true};m.FAST=!u.ScriptEngineMajorVersion;m.prototype.append=function(a,b,d){if(m.FAST){this.value+=a;if(b!=null){this.value+=b;if(d!=null)this.value+=d}}else this.value.push.apply(this.value,arguments)};m.prototype.clear=function(){this.value=m.FAST?"":[]};m.prototype.toString=function(){return m.FAST?this.value:this.value.join("")};q.prototype.toString=function(){var a;var b=this.value;try{var d=new m;x(d,b);a=d.toString()}catch(c){a="["+c+"]"}return a};
var K={rowspan:"rowSpan",colspan:"colSpan",cellpadding:"cellPadding",cellspacing:"cellSpacing",tabindex:"tabIndex",accesskey:"accessKey",hidefocus:"hideFocus",usemap:"useMap",maxlength:"maxLength",readonly:"readOnly",contenteditable:"contentEditable"},p={enctype:"encoding",onscroll:"DOMMouseScroll"},L={onblur:true,onchange:true,onclick:true,ondblclick:true,onerror:true,onfocus:true,onkeydown:true,onkeypress:true,onkeyup:true,onload:true,onmousedown:true,onmouseenter:true,onmouseleave:true,onmousemove:true,
onmouseout:true,onmouseover:true,onmouseup:true,onresize:true,onscroll:true,onselect:true,onsubmit:true,onunload:true};q.prototype.toDOM=q.prototype.toDOM=function(){try{return C(o(this.value[0]),this.value)}catch(a){return n.createTextNode("["+a+"]")}}})(window);